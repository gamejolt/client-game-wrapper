{"version":3,"sources":["index.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,MAAY,EAAE,WAAM,IAAI,CAAC,CAAA;AAEzB,MAAY,IAAI,WAAM,MAAM,CAAC,CAAA;AAC7B,MAAY,EAAE,WAAM,eAAe,CAAC,CAAA;AAEpC;IAEC,OAAe,oBAAoB;QAElC,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAE,SAAS,EAAE,IAAI,EAAE,KAAK,CAAE,CAAC;QACvD,MAAM,CAAC,CAAE,OAAO,CAAC,QAAS,CAAC,CAAC,CAAC;YAC5B,KAAK,OAAO;gBACX,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,SAAS,EAAE,kCAAkC,CAAE,CAAC;YACnE,KAAK,OAAO;gBACX,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,SAAS,EAAE,8BAA8B,CAAE,CAAC;YAC/D,KAAK,QAAQ;gBACZ,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,SAAS,EAAE,4BAA4B,CAAE,CAAC;QAC9D,CAAC;QAED,0BAA0B;QAC1B,MAAM,IAAI,KAAK,CAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,GAAG,IAAI;YAC/C,sGAAsG;YACtG,yCAAyC,CAAE,CAAC;IAC9C,CAAC;IAED,OAAO,KAAK,CAAE,SAAiB,EAAE,OAAe,EAAE,WAAmB,EAAE,cAAsB,EAAE,IAAc,EAAE,OAAyB;QAEvI,IAAI,iBAAiB,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAEpD,sDAAsD;QACtD,EAAE,CAAC,SAAS,CAAE,iBAAiB,EAAE,MAAM,CAAE,CAAC;QAE1C,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,CAAE,iBAAiB,EAAE,CAAE,SAAS,EAAE,OAAO,EAAE,WAAW,EAAE,cAAc,CAAE,CAAC,MAAM,CAAE,IAAI,CAAE,EAAE,OAAO,CAAE,CAAC;QACvH,KAAK,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;AACF,CAAC;AAED,iBAAS,WAAW,CAAC","file":"index.js","sourcesContent":["'use strict';\n\nimport * as fs from 'fs';\nimport * as net from 'net';\nimport * as path from 'path';\nimport * as cp from 'child_process';\n\nclass GameWrapper\n{\n\tprivate static getWrapperExecutable()\n\t{\n\t\tlet binFolder = path.resolve( __dirname, '..', 'bin' );\n\t\tswitch ( process.platform ) {\n\t\t\tcase 'win32':\n\t\t\t\treturn path.join( binFolder, 'game_jolt_game_wrapper_win32.exe' );\n\t\t\tcase 'linux':\n\t\t\t\treturn path.join( binFolder, 'game_jolt_game_wrapper_linux' );\n\t\t\tcase 'darwin':\n\t\t\t\treturn path.join( binFolder, 'game_jolt_game_wrapper_osx' );\n\t\t}\n\n\t\t// Plan for the future, yo\n\t\tthrow new Error( new Date().getFullYear() > 2100 ?\n\t\t\t'Pepperidge Farm remembers back in 2016 we were still using Windows, Linux or Mac. Kids these days...' :\n\t\t\t'What kind of potato are you running on?' );\n\t}\n\n\tstatic start( wrapperId: string, pidPath: string, packagePath: string, executablePath: string, args: string[], options?: cp.SpawnOptions )\n\t{\n\t\tlet wrapperExecutable = this.getWrapperExecutable();\n\n\t\t// Ensure that the wrapper executable is.. executable.\n\t\tfs.chmodSync( wrapperExecutable, '0755' );\n\n\t\tlet child = cp.spawn( wrapperExecutable, [ wrapperId, pidPath, packagePath, executablePath ].concat( args ), options );\n\t\tchild.unref();\n\t}\n}\n\nexport = GameWrapper;\n"],"sourceRoot":"../src/"}